{"remainingRequest":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-admin-panel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-admin-panel/src/views/AdminLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-admin-panel/src/views/AdminLogin.vue","mtime":1641263700950},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-admin-panel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-admin-panel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-admin-panel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-admin-panel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBlbWFpbDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIlBsZWFzZSBmaWxsIGluIHRoZSBlbWFpbCIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIlBsZWFzZSBmaWxsIGluIHRoZSBwYXNzd29yZC4iLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VibWl0KCkgewogICAgICB0aGlzLiRyZWZzWyJhZG1pbi1sb2dpbi1mb3JtIl0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICB1cmw6ICJodHRwOi8vbG9jYWxob3N0Ojg4ODgvYXBpL3YxL0FkbWluL0F1dGhBZG1pbiIsCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICBFbWFpbDogdGhpcy5mb3JtRGF0YS5lbWFpbCwKICAgICAgICAgICAgICBQYXNzd29yZDogdGhpcy5mb3JtRGF0YS5wYXNzd29yZCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gcmVzcG9uc2UuZGF0YS5tb2RlbC50b2tlbjsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW5fYWRtaW4iLCB0b2tlbik7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goImNvbnRyb2wtcGFuZWwiKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHsKICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICJFbWFpbCBPciBQYXNzd29yZCBtYXkgYmUgd3JvbmciLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDIwLAogICAgICAgICAgICAgICAgY2xvc2FibGU6IHRydWUsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKCJQbGVhc2UgRW50ZXIgYWxsIGZpZWxkcyEiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["AdminLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminLogin.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"title\">Admin Auth</div>\n    <Form ref=\"admin-login-form\" :model=\"formData\" :rules=\"rules\" class=\"form\">\n      <FormItem prop=\"email\">\n        <Input type=\"text\" v-model=\"formData.email\" placeholder=\"Email\">\n          <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\n        </Input>\n      </FormItem>\n      <FormItem prop=\"password\">\n        <Input\n          type=\"password\"\n          v-model=\"formData.password\"\n          placeholder=\"Password\"\n        >\n          <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n        </Input>\n      </FormItem>\n      <FormItem align=\"center\">\n        <Button type=\"primary\" @click=\"handleSubmit()\"> Signin </Button>\n      </FormItem>\n    </Form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      formData: {\n        email: \"\",\n        password: \"\",\n      },\n      rules: {\n        email: [\n          {\n            required: true,\n            message: \"Please fill in the email\",\n            trigger: \"blur\",\n          },\n        ],\n        password: [\n          {\n            required: true,\n            message: \"Please fill in the password.\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    handleSubmit() {\n      this.$refs[\"admin-login-form\"].validate((valid) => {\n        if (valid) {\n          axios({\n            method: \"post\",\n            url: \"http://localhost:8888/api/v1/Admin/AuthAdmin\",\n            data: {\n              Email: this.formData.email,\n              Password: this.formData.password,\n            },\n          })\n            .then((response) => {\n              const token = response.data.model.token;\n              localStorage.setItem(\"token_admin\", token);\n              this.$router.push(\"control-panel\");\n            })\n            .catch(() => {\n              this.$Message.error({\n                content: \"Email Or Password may be wrong\",\n                duration: 20,\n                closable: true,\n              });\n            });\n        } else {\n          this.$Message.error(\"Please Enter all fields!\");\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.title {\n  margin-bottom: 1.5rem;\n  font-size: x-large;\n  font-weight: bold;\n}\n.form {\n  width: 33%;\n}\n</style>\n"]}]}