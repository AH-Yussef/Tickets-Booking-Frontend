{"remainingRequest":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/node_modules/babel-loader/lib/index.js!/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/src/views/EventProviderLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/src/views/EventProviderLogin.vue","mtime":1644160015596},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/babel.config.js","mtime":1639839617500},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybURhdGE6IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgZW1haWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2UgZmlsbCBpbiB0aGUgZW1haWwiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2UgZmlsbCBpbiB0aGUgcGFzc3dvcmQuIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbInByb3ZpZGVyLWxvZ2luLWZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgIHVybDogImh0dHA6Ly9sb2NhbGhvc3Q6ODg4OC9hcGkvdjEvRXZlbnRQcm92aWRlcnMvQXV0aCIsCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICBlbWFpbDogX3RoaXMuZm9ybURhdGEuZW1haWwsCiAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLmZvcm1EYXRhLnBhc3N3b3JkCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3BvbnNlLmRhdGEubW9kZWwudG9rZW47CiAgICAgICAgICAgIHZhciBuYW1lID0gcmVzcG9uc2UuZGF0YS5tb2RlbC5uYW1lOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW4iLCB0b2tlbik7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJuYW1lIiwgbmFtZSk7CgogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goImV2ZW50LXByb3ZpZGVyLWNvbnRyb2wtcGFuZWwiKTsKCiAgICAgICAgICAgIF90aGlzLmhhbmRsZVJlc2V0KCk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLiRNZXNzYWdlLmVycm9yKHsKICAgICAgICAgICAgICBjb250ZW50OiAiWW91IG1heSBub3QgYmUgeWV0IGF1dGhvcml6ZWQgb3IgbWF5IGJlIHRoZSBlbWFpbCBvciBwYXNzd29yZCBpcyB3cm9uZyIsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwLAogICAgICAgICAgICAgIGNsb3NhYmxlOiB0cnVlCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMuaGFuZGxlUmVzZXQoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kTWVzc2FnZS5lcnJvcigiUGxlYXNlIEVudGVyIGFsbCBmaWVsZHMhIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVSZXNldDogZnVuY3Rpb24gaGFuZGxlUmVzZXQoKSB7CiAgICAgIHRoaXMuJHJlZnNbInByb3ZpZGVyLWxvZ2luLWZvcm0iXS5yZXNldEZpZWxkcygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["EventProviderLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,0BAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SADA,CADA;AAQA,QAAA,QAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,8BAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SADA;AARA;AALA,KAAA;AAsBA,GAxBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,WAAA,KAAA,CAAA,qBAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA;AACA,YAAA,MAAA,EAAA,MADA;AAEA,YAAA,GAAA,EAAA,kDAFA;AAGA,YAAA,IAAA,EAAA;AACA,cAAA,KAAA,EAAA,KAAA,CAAA,QAAA,CAAA,KADA;AAEA,cAAA,QAAA,EAAA,KAAA,CAAA,QAAA,CAAA;AAFA;AAHA,WAAA,CAAA,CAQA,IARA,CAQA,UAAA,QAAA,EAAA;AACA,gBAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA;AACA,gBAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,KAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,IAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,8BAAA;;AACA,YAAA,KAAA,CAAA,WAAA;AACA,WAfA,EAgBA,KAhBA,CAgBA,YAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA;AACA,cAAA,OAAA,EACA,wEAFA;AAGA,cAAA,QAAA,EAAA,EAHA;AAIA,cAAA,QAAA,EAAA;AAJA,aAAA;;AAMA,YAAA,KAAA,CAAA,WAAA;AACA,WAxBA;AAyBA,SA1BA,MA0BA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,0BAAA;AACA;AACA,OA9BA;AA+BA,KAjCA;AAkCA,IAAA,WAlCA,yBAkCA;AACA,WAAA,KAAA,CAAA,qBAAA,EAAA,WAAA;AACA;AApCA;AAzBA,CAAA","sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"title\">Event Provider sign in</div>\n    <Form ref=\"provider-login-form\" :model=\"formData\" :rules=\"rules\" class=\"form\">\n      <FormItem prop=\"email\">\n        <Input type=\"text\" v-model=\"formData.email\" placeholder=\"Email\">\n          <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\n        </Input>\n      </FormItem>\n      <FormItem prop=\"password\">\n        <Input\n          type=\"password\"\n          v-model=\"formData.password\"\n          placeholder=\"Password\"\n        >\n          <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n        </Input>\n      </FormItem>\n      <FormItem align=\"center\">\n        <Button type=\"primary\" @click=\"handleSubmit()\"> Signin </Button>\n      </FormItem>\n      <FormItem align=\"center\">\n        <div class=\"sign-up\">\n          <span style=\"margin-right: 0.3rem\">don't have an account?</span>\n          <router-link to=\"/JoinUs\">Join Us</router-link>\n        </div>\n      </FormItem>\n    </Form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      formData: {\n        email: \"\",\n        password: \"\",\n      },\n      rules: {\n        email: [\n          {\n            required: true,\n            message: \"Please fill in the email\",\n            trigger: \"blur\",\n          },\n        ],\n        password: [\n          {\n            required: true,\n            message: \"Please fill in the password.\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    handleSubmit() {\n      this.$refs[\"provider-login-form\"].validate((valid) => {\n        if (valid) {\n          axios({\n            method: \"post\",\n            url: \"http://localhost:8888/api/v1/EventProviders/Auth\",\n            data: {\n              email: this.formData.email,\n              password: this.formData.password,\n            },\n          })\n            .then((response) => {\n              const token = response.data.model.token;\n              const name = response.data.model.name\n              localStorage.setItem(\"token\", token);\n              localStorage.setItem(\"name\", name);\n              this.$router.push(\"event-provider-control-panel\");\n              this.handleReset();\n            })\n            .catch(() => {\n              this.$Message.error({\n                content:\n                  \"You may not be yet authorized or may be the email or password is wrong\",\n                duration: 20,\n                closable: true,\n              });\n                this.handleReset();\n            });\n        } else {\n          this.$Message.error(\"Please Enter all fields!\");\n        }\n      });\n    },\n    handleReset() {\n      this.$refs[\"provider-login-form\"].resetFields();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.title {\n  margin-bottom: 1.5rem;\n  font-size: x-large;\n  font-weight: bold;\n}\n.form {\n  width: 33%;\n}\n.sign-up {\n  font-size: 0.85rem;\n}\n</style>\n"],"sourceRoot":"src/views"}]}