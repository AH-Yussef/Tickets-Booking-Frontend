{"remainingRequest":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/src/views/Login.vue","mtime":1640319959183},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/Desktop/Tickets-Booking-Frontend/tikcets-booking-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBlbWFpbDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIlBsZWFzZSBmaWxsIGluIHRoZSBlbWFpbCIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIlBsZWFzZSBmaWxsIGluIHRoZSBwYXNzd29yZC4iLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VibWl0KCkgewogICAgICB0aGlzLiRyZWZzWyJwcm92aWRlci1sb2dpbi1mb3JtIl0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICB1cmw6ICJodHRwOi8vbG9jYWxob3N0Ojg4ODgvYXBpL3YxL0V2ZW50UHJvdmlkZXJzL0F1dGgiLAogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgZW1haWw6IHRoaXMuZm9ybURhdGEuZW1haWwsCiAgICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMuZm9ybURhdGEucGFzc3dvcmQsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IHJlc3BvbnNlLmRhdGEubW9kZWwudG9rZW47CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgdG9rZW4pOwogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCJldmVudC1wcm92aWRlci1jb250cm9sLXBhbmVsIik7CiAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXNldCgpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgICAgICAgY29udGVudDoKICAgICAgICAgICAgICAgICAgIllvdSBtYXkgbm90IGJlIHlldCBhdXRob3JpemVkIG9yIG1heSBiZSB0aGUgZW1haWwgb3IgcGFzc3dvcmQgaXMgd3JvbmciLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDIwLAogICAgICAgICAgICAgICAgY2xvc2FibGU6IHRydWUsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc2V0KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKCJQbGVhc2UgRW50ZXIgYWxsIGZpZWxkcyEiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVJlc2V0KCkgewogICAgICB0aGlzLiRyZWZzWyJwcm92aWRlci1sb2dpbi1mb3JtIl0ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"title\">Event Provider sign in</div>\n    <Form ref=\"provider-login-form\" :model=\"formData\" :rules=\"rules\" class=\"form\">\n      <FormItem prop=\"email\">\n        <Input type=\"text\" v-model=\"formData.email\" placeholder=\"Email\">\n          <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\n        </Input>\n      </FormItem>\n      <FormItem prop=\"password\">\n        <Input\n          type=\"password\"\n          v-model=\"formData.password\"\n          placeholder=\"Password\"\n        >\n          <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n        </Input>\n      </FormItem>\n      <FormItem align=\"center\">\n        <Button type=\"primary\" @click=\"handleSubmit()\"> Signin </Button>\n      </FormItem>\n    </Form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      formData: {\n        email: \"\",\n        password: \"\",\n      },\n      rules: {\n        email: [\n          {\n            required: true,\n            message: \"Please fill in the email\",\n            trigger: \"blur\",\n          },\n        ],\n        password: [\n          {\n            required: true,\n            message: \"Please fill in the password.\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    handleSubmit() {\n      this.$refs[\"provider-login-form\"].validate((valid) => {\n        if (valid) {\n          axios({\n            method: \"post\",\n            url: \"http://localhost:8888/api/v1/EventProviders/Auth\",\n            data: {\n              email: this.formData.email,\n              password: this.formData.password,\n            },\n          })\n            .then((response) => {\n              const token = response.data.model.token;\n              localStorage.setItem(\"token\", token);\n              this.$router.push(\"event-provider-control-panel\");\n              this.handleReset();\n            })\n            .catch(() => {\n              this.$Message.error({\n                content:\n                  \"You may not be yet authorized or may be the email or password is wrong\",\n                duration: 20,\n                closable: true,\n              });\n                this.handleReset();\n            });\n        } else {\n          this.$Message.error(\"Please Enter all fields!\");\n        }\n      });\n    },\n    handleReset() {\n      this.$refs[\"provider-login-form\"].resetFields();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.title {\n  margin-bottom: 1.5rem;\n  font-size: x-large;\n  font-weight: bold;\n}\n.form {\n  width: 33%;\n}\n</style>\n"]}]}